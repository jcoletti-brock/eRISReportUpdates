[{"item":"{\n  \"name\" : \"WSPW000TT.F_CV\",\n  \"description\" : \"William St Combined Daily Well Flow Max Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.WSPWELLTT.F_CV:first:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"WSPFlowMax\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.WSPW000TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"WSPW000TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : -1,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.473\",\n  \"modified\" : \"2019-12-10T17:02:59.474\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"WSPWB00VOLFLAG\",\n  \"description\" : \"William St. Station Discharge With Min/Max 10% Flow Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR3.WSPDSH01FI01QFL.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"412fd560-fdca-4a25-9fc9-162bd1ae4feb\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"TenPercent\",\n      \"constant\" : \"TenPercent\"\n    }, {\n      \"name\" : \"HeidelbergMinFlow\",\n      \"constant\" : \"WSPFlowMin\"\n    }, {\n      \"name\" : \"HeidelbergMaxFlow\",\n      \"constant\" : \"WSPFlowMax\"\n    } ],\n    \"inputRef\" : [ {\n      \"name\" : \"second\",\n      \"pattern\" : \"\",\n      \"query\" : \"@.WSPWELLTT.F_CV:first:P1D\",\n      \"type\" : \"tag\"\n    } ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.WSPWB00VOLFLAG\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"WSPWB00VOLFLAG\",\n  \"meta\" : null,\n  \"scale\" : -1,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.475\",\n  \"modified\" : \"2025-09-30T23:14:27.728\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Min/Max and Relative Difference Flagging\",\n  \"description\" : \"Flags primary input for min and max. Compares primary to secondary tag and applies flag if relative diff. is greater than specified %.\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"412fd560-fdca-4a25-9fc9-162bd1ae4feb\",\n  \"constant\" : [ \"HeidelbergMaxFlow\", \"HeidelbergMinFlow\", \"TenPercent\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"SJPH.SJPSCDA.HEPTWL1TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  }, {\n    \"value\" : \"@.HEPWELLTT.F_CV:first:P1D\",\n    \"name\" : \"second\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Primary loop for source tag\\nfor (Data PD: __source__.array){\\n    //Check if above maximum\\n    if(PD.value > $(HeidelbergMaxFlow)) {\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n    //Check if below minimum\\n    if (PD.value < $(HeidelbergMinFlow)) {\\n        PD.addFlag(\\\"MIN\\\");\\n    }\\n}\\n//Initialize variables to hold relative difference calculations\\nBigDecimal relDiff = 0;\\nBigDecimal relDiff2 = 0;\\n//Tag pair of primary and secondary tag\\nTagInputPair tip = new TagInputPair(__source__, second, 60);\\n//Loop to run through all of the tag data\\nfor (DataPair pair: tip.pairs){\\n    //Calculate difference relative to first value\\n    if(pair.a.value!=0){\\n        relDiff = ((pair.a.value-pair.b.value)/pair.a.value);\\n    }\\n    if(pair.b.value!=0){\\n        //Calculate difference relative to second value\\n        relDiff2 = ((pair.a.value-pair.b.value)/pair.b.value);\\n    }\\n    //Flag value if relative difference is greater than 10%\\n    if(relDiff > 0.10||relDiff < -0.10||relDiff2 > 0.10||relDiff2 < -0.10)\\n        pair.a.addFlag(\\\"OUT\\\");\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  }, {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal heidelbergMaxFlow = HeidelbergMaxFlow.getValue(PD);\\n    context.trace(HeidelbergMaxFlow.getValue(PD));\\n    if(PD.value > heidelbergMaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n    //If the value of the element is below threshold\\n    BigDecimal heidelbergMinFlow = HeidelbergMinFlow.getValue(PD);\\n    if (PD.value < heidelbergMinFlow) {\\n        //Apply \\\"MIN\\\" flag to data element\\n        PD.addFlag(\\\"MIN\\\");\\n    }\\n}\\n//Initialize variables to hold relative difference calculations\\nBigDecimal relDiff = 0;\\n//BigDecimal relDiff2 = 0;\\n//Tag pair of primary and secondary tag\\nTagInputPair tip = new TagInputPair(__source__, second, 60);\\n//Loop to run through all of the tag data\\nfor (DataPair pair: tip.pairs){\\n    //Calculate difference relative to first value\\n    if(pair.a.value!=0){\\n        relDiff = ((pair.a.value-pair.b.value)/pair.a.value);\\n        context.trace(relDiff);\\n        BigDecimal tenPercent = TenPercent.getValue(pair);\\n        if(Math.abs(relDiff) > tenPercent){\\n            pair.a.addFlag(\\\"OUT\\\");\\n        }\\n    }\\n}\\n\",\n    \"version\" : 2,\n    \"start\" : \"2015-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : false\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"412fd560-fdca-4a25-9fc9-162bd1ae4feb\",\n  \"owner\" : \"ralbasel@regionofwaterloo.ca\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"BLMVCH1CA\",\n  \"description\" : \"Breslau Daily Flow Min/Max Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_BLMVCH1TTV01.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"1792427b-310b-4745-bf9d-bfda3efedd35\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"BLMVCH1FlowMax\"\n    }, {\n      \"name\" : \"MV3MinFlow\",\n      \"constant\" : \"BLMVCH1FlowMin\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.BLMVCH1CA\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"BLMVCH1CA\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.477\",\n  \"modified\" : \"2019-12-10T17:02:59.479\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging\",\n  \"description\" : \"Flow Total Flagging Rule (Maximum and Minimum)\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"1792427b-310b-4745-bf9d-bfda3efedd35\",\n  \"constant\" : [ \"MV3MaxFlow\", \"MV3MinFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.HRMMV03TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P2D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    if(PD.value > $(MV3MaxFlow)) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n    //If the value of the element is below threshold\\n    if (PD.value < $(MV3MinFlow)) {\\n        //Apply \\\"MIN\\\" flag to data element\\n        PD.addFlag(\\\"MIN\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"1792427b-310b-4745-bf9d-bfda3efedd35\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"VIMVCH1CA\",\n  \"description\" : \"Victoria Meter Daily Flow Min/Max Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_VIMVCH1TT.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"1792427b-310b-4745-bf9d-bfda3efedd35\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"VIMVCH1FlowMax\"\n    }, {\n      \"name\" : \"MV3MinFlow\",\n      \"constant\" : \"VIMVCH1FlowMin\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.VIMVCH1CA\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"VIMVCH1CA\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.480\",\n  \"modified\" : \"2019-12-10T17:02:59.481\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging\",\n  \"description\" : \"Flow Total Flagging Rule (Maximum and Minimum)\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"1792427b-310b-4745-bf9d-bfda3efedd35\",\n  \"constant\" : [ \"MV3MaxFlow\", \"MV3MinFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.HRMMV03TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P2D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    if(PD.value > $(MV3MaxFlow)) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n    //If the value of the element is below threshold\\n    if (PD.value < $(MV3MinFlow)) {\\n        //Apply \\\"MIN\\\" flag to data element\\n        PD.addFlag(\\\"MIN\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"1792427b-310b-4745-bf9d-bfda3efedd35\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"SSPKB00CA\",\n  \"description\" : \"Strange Street PS Discharge Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR3.SSPTWL01FI01QFL.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"SSPFlowMax\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.SSPKB00CA\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"SSPKB00CA\",\n  \"meta\" : null,\n  \"scale\" : -1,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.482\",\n  \"modified\" : \"2023-06-10T16:42:32.399\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KIWK091CA\",\n  \"description\" : \"K91 Daily Flow Max Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR1.K91W0091FI01QFL.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K91FlowMax\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KIWK091CA\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KIWK091CA\",\n  \"meta\" : null,\n  \"scale\" : -1,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.485\",\n  \"modified\" : \"2024-03-16T22:48:09.173\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KIWK092CA\",\n  \"description\" : \"K92 Daily Flow Max Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR1.K91W0092FI01QFL.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K92FlowMax\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KIWK092CA\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KIWK092CA\",\n  \"meta\" : null,\n  \"scale\" : -1,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.487\",\n  \"modified\" : \"2024-03-16T22:49:44.521\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KIWK093CA\",\n  \"description\" : \"K93 Daily Flow Max Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_KIWK093TT.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K93FlowMax\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KIWK093CA\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KIWK093CA\",\n  \"meta\" : null,\n  \"scale\" : -1,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.489\",\n  \"modified\" : \"2019-12-10T17:02:59.490\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KIWK094CA\",\n  \"description\" : \"K94 Daily Flow Max Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR1.K93W0094FI01QFL.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K94FlowMax\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KIWK094CA\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KIWK094CA\",\n  \"meta\" : null,\n  \"scale\" : -1,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.492\",\n  \"modified\" : \"2024-03-21T18:58:31.806\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWH005TT.F_CV\",\n  \"description\" : \"H5 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_CBWH005TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"H5FlowMax\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWH005TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWH005TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.494\",\n  \"modified\" : \"2019-12-10T17:02:59.495\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_GBPKB00TT.F_CV\",\n  \"description\" : \"Greenbrook Daily Discharge Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_GBPKB00TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K1K2K4BK5AK8MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_GBPKB00TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_GBPKB00TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.496\",\n  \"modified\" : \"2019-12-10T17:02:59.498\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_TTPTWL1TT.F_CV\",\n  \"description\" : \"Turnbull Daily Discharge Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_TTPTWL1TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"G16G17G18MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_TTPTWL1TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_TTPTWL1TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.499\",\n  \"modified\" : \"2019-12-10T17:02:59.500\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWTWL1TT.F_CV\",\n  \"description\" : \"K34 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_KIWTWL1TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K34K36MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWTWL1TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWTWL1TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.501\",\n  \"modified\" : \"2019-12-10T17:02:59.502\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWK021TT.F_CV\",\n  \"description\" : \"K21 Daily Discharge Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_KIWK021TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K21WellFlowMax\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWK021TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWK021TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.504\",\n  \"modified\" : \"2019-12-10T17:02:59.505\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWK029TT.F_CV\",\n  \"description\" : \"K29 Daily Discharge Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_KIWK029TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K29MaxFlowSR\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWK029TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWK029TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.506\",\n  \"modified\" : \"2019-12-10T17:02:59.507\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWK025TT.F_CV\",\n  \"description\" : \"K25 Daily Discharge Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_KIWK025TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K25MaxFlowSR\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWK025TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWK025TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.508\",\n  \"modified\" : \"2019-12-10T17:02:59.510\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWK022TT.F_CV\",\n  \"description\" : \"K22A Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_KIWK022TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K22AMaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWK022TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWK022TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.511\",\n  \"modified\" : \"2019-12-10T17:02:59.512\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWK023TT.F_CV\",\n  \"description\" : \"K23 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_KIWK023TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K23MaxFlowSR\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWK023TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWK023TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.513\",\n  \"modified\" : \"2019-12-10T17:02:59.514\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWK024TT.F_CV\",\n  \"description\" : \"K24 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_KIWK024TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K24MaxFlowSR\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWK024TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWK024TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.515\",\n  \"modified\" : \"2019-12-10T17:02:59.517\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWK026TT.F_CV\",\n  \"description\" : \"K26 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_KIWK026TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K26MaxFlowSR\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWK026TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWK026TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.518\",\n  \"modified\" : \"2019-12-10T17:02:59.519\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"WTP_MARASR1TT.F_CV\",\n  \"description\" : \"ASR1 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.WTP_MARASR1TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"ASR1MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.WTP_MARASR1TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"WTP_MARASR1TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.520\",\n  \"modified\" : \"2019-12-10T17:02:59.521\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"WTP_MARASR2TT.F_CV\",\n  \"description\" : \"ASR2 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.WTP_MARASR2TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"ASR2MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.WTP_MARASR2TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"WTP_MARASR2TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.523\",\n  \"modified\" : \"2019-12-10T17:02:59.524\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"WTP_MARASR3TT.F_CV\",\n  \"description\" : \"ASR3 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.WTP_MARASR3TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"ASR3MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.WTP_MARASR3TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"WTP_MARASR3TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.525\",\n  \"modified\" : \"2019-12-10T17:02:59.526\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"WTP_MARASR4TT.F_CV\",\n  \"description\" : \"ASR4 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.WTP_MARASR4TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"ASR4MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.WTP_MARASR4TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"WTP_MARASR4TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.527\",\n  \"modified\" : \"2019-12-10T17:02:59.529\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWP006TT.F_CV\",\n  \"description\" : \"P6 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_CBWP006TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"P6MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWP006TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWP006TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.530\",\n  \"modified\" : \"2019-12-10T17:02:59.531\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_PTPTWL1TT.F_CV\",\n  \"description\" : \"Pinebush Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_PTPTWL1TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"P10P11P17MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_PTPTWL1TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_PTPTWL1TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.532\",\n  \"modified\" : \"2019-12-10T17:02:59.533\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWP016TT.F_CV\",\n  \"description\" : \"P16 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_CBWP016TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"P16MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWP016TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWP016TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.535\",\n  \"modified\" : \"2019-12-10T17:02:59.536\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_RAPP009TT.F_CV\",\n  \"description\" : \"P9 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_RAPP009TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"P9MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_RAPP009TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_RAPP009TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.537\",\n  \"modified\" : \"2019-12-10T17:02:59.538\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_RAPP015TT.F_CV\",\n  \"description\" : \"P15 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_RAPP015TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"P15MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_RAPP015TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_RAPP015TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.539\",\n  \"modified\" : \"2019-12-10T17:02:59.541\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_STPTWL1TT.F_CV\",\n  \"description\" : \"Shades Mill Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_STPTWL1TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"G7G8G38G39MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_STPTWL1TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_STPTWL1TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.542\",\n  \"modified\" : \"2019-12-10T17:02:59.543\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWK029TT.F_CV_PREP\",\n  \"description\" : \"K29 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR1.K29TWL01FI01QFL.F_CV:raw:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWK029TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWK029TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.544\",\n  \"modified\" : \"2024-01-25T01:42:36.360\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWK025TT.F_CV_PREP\",\n  \"description\" : \"K25 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR1.K25TWL01FI01QFL.F_CV:raw:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWK025TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWK025TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : -1,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.546\",\n  \"modified\" : \"2024-02-01T16:14:35.734\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_TTPTWL1TT.F_CV_PREP\",\n  \"description\" : \"Turnbull Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_TTPTWL1TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_TTPTWL1TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_TTPTWL1TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.549\",\n  \"modified\" : \"2019-12-10T17:02:59.550\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_GBPKB00TT.F_CV_PREP\",\n  \"description\" : \"Greenbrook Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_GBPKB00TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_GBPKB00TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_GBPKB00TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.551\",\n  \"modified\" : \"2019-12-10T17:02:59.552\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWG004TT.F_CV_PREP\",\n  \"description\" : \"G4 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_CBWG004TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWG004TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWG004TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.554\",\n  \"modified\" : \"2019-12-10T17:02:59.555\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWG004TT.F_CV\",\n  \"description\" : \"G4 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"MDPH.MDPSCDA.CBWG004TT.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"G4FlowMax\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWG004TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWG004TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.556\",\n  \"modified\" : \"2019-12-10T17:02:59.557\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWG005TT.F_CV_PREP\",\n  \"description\" : \"G5 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_CBWG005TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWG005TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWG005TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.558\",\n  \"modified\" : \"2019-12-10T17:02:59.559\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWG005TT.F_CV\",\n  \"description\" : \"G5 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"MDPH.MDPSCDA.CBWG005TT.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"G5MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWG005TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWG005TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.560\",\n  \"modified\" : \"2019-12-10T17:02:59.561\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWG006TT.F_CV_PREP\",\n  \"description\" : \"G6 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_CBWG006TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWG006TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWG006TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.563\",\n  \"modified\" : \"2019-12-10T17:02:59.564\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWG006TT.F_CV\",\n  \"description\" : \"G6 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_CBWG006TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"G6MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWG006TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWG006TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.565\",\n  \"modified\" : \"2019-12-10T17:02:59.566\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWG009TT.F_CV_PREP\",\n  \"description\" : \"G9 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_CBWG009TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWG009TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWG009TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.567\",\n  \"modified\" : \"2019-12-10T17:02:59.568\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWG009TT.F_CV\",\n  \"description\" : \"G9 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_CBWG009TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"G9MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWG009TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWG009TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.570\",\n  \"modified\" : \"2019-12-10T17:02:59.571\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWH003TT.F_CV\",\n  \"description\" : \"H3 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_CBWH003TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"H3MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWH003TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWH003TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.572\",\n  \"modified\" : \"2019-12-10T17:02:59.573\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWH003TT.F_CV_PREP\",\n  \"description\" : \"H3 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_CBWH003TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWH003TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWH003TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.574\",\n  \"modified\" : \"2019-12-10T17:02:59.575\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWH004TT.F_CV_PREP\",\n  \"description\" : \"H4 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_CBWH004TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWH004TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWH004TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.576\",\n  \"modified\" : \"2019-12-10T17:02:59.578\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWH004TT.F_CV\",\n  \"description\" : \"H4 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_CBWH004TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"H4FlowMax\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWH004TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWH004TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.579\",\n  \"modified\" : \"2019-12-10T17:02:59.580\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWH005TT.F_CV_PREP\",\n  \"description\" : \"H5 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_CBWH005TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWH005TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWH005TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.581\",\n  \"modified\" : \"2019-12-10T17:02:59.582\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_MDPCB00TT.F_CV_PREP\",\n  \"description\" : \"G1 G1A G3 G14 G15 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_MDPCB00TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_MDPCB00TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_MDPCB00TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.583\",\n  \"modified\" : \"2019-12-10T17:02:59.584\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_MDPCB00TT.F_CV\",\n  \"description\" : \"G1 G1A G3 G14 G15 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCR_MDPCB00TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"GWellsMaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_MDPCB00TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_MDPCB00TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.585\",\n  \"modified\" : \"2019-12-10T17:02:59.586\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_PTPTWL1TT.F_CV_PREP\",\n  \"description\" : \"P10 P11 P17 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_PTPTWL1TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_PTPTWL1TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_PTPTWL1TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.588\",\n  \"modified\" : \"2019-12-10T17:02:59.589\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWP006TT.F_CV_PREP\",\n  \"description\" : \"P6 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_CBWP006TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWP006TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWP006TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.590\",\n  \"modified\" : \"2019-12-10T17:02:59.591\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_CBWP016TT.F_CV_PREP\",\n  \"description\" : \"P16 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_CBWP016TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_CBWP016TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_CBWP016TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.592\",\n  \"modified\" : \"2019-12-10T17:02:59.593\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_RAPP009TT.F_CV_PREP\",\n  \"description\" : \"P9 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_RAPP009TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_RAPP009TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_RAPP009TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.594\",\n  \"modified\" : \"2019-12-10T17:02:59.595\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_RAPP015TT.F_CV_PREP\",\n  \"description\" : \"P15 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_RAPP015TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_RAPP015TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_RAPP015TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.596\",\n  \"modified\" : \"2019-12-10T17:02:59.597\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_STPTWL1TT.F_CV_PREP\",\n  \"description\" : \"Shades Mill Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_STPTWL1TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_STPTWL1TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_STPTWL1TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.598\",\n  \"modified\" : \"2019-12-10T17:02:59.599\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWTWL1TT.F_CV_PREP\",\n  \"description\" : \"K34 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_KIWTWL1TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWTWL1TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWTWL1TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.601\",\n  \"modified\" : \"2019-12-10T17:02:59.602\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWK021TT.F_CV_PREP\",\n  \"description\" : \"K21 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR1.KIWK021TT.F_CV:rawByTime:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWK021TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWK021TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.603\",\n  \"modified\" : \"2020-12-09T15:37:32.245\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWK022TT.F_CV_PREP\",\n  \"description\" : \"K22A Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_KIWK022TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWK022TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWK022TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.605\",\n  \"modified\" : \"2019-12-10T17:02:59.606\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWK023TT.F_CV_PREP\",\n  \"description\" : \"K23 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR3.K23TWL01FI01QFL.F_CV:raw:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWK023TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWK023TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.607\",\n  \"modified\" : \"2024-03-26T20:54:18.571\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWK024TT.F_CV_PREP\",\n  \"description\" : \"K24 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR1.KIWK024TT.F_CV:rawByTime:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWK024TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWK024TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.609\",\n  \"modified\" : \"2020-12-09T15:22:21.243\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCR_KIWK026TT.F_CV_PREP\",\n  \"description\" : \"K26 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR1.KIWK026TT.F_CV:rawByTime:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCR_KIWK026TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCR_KIWK026TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.611\",\n  \"modified\" : \"2020-12-09T15:20:57.174\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"WTP_MARASR1TT.F_CV_PREP\",\n  \"description\" : \"ASR1 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.WTP_MARASR1TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.WTP_MARASR1TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"WTP_MARASR1TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.613\",\n  \"modified\" : \"2019-12-10T17:02:59.614\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"WTP_MARASR2TT.F_CV_PREP\",\n  \"description\" : \"ASR2 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.WTP_MARASR2TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.WTP_MARASR2TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"WTP_MARASR2TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.615\",\n  \"modified\" : \"2019-12-10T17:02:59.616\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"WTP_MARASR3TT.F_CV_PREP\",\n  \"description\" : \"ASR3 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.WTP_MARASR3TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.WTP_MARASR3TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"WTP_MARASR3TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.617\",\n  \"modified\" : \"2019-12-10T17:02:59.618\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"WTP_MARASR4TT.F_CV_PREP\",\n  \"description\" : \"ASR4 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.WTP_MARASR4TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.WTP_MARASR4TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"WTP_MARASR4TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.619\",\n  \"modified\" : \"2019-12-10T17:02:59.621\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.WTP_MARRCW1TT.F_CV\",\n  \"description\" : \"RCW1 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCRH.WTP_MARRCW1TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"RCW1MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.WTP_MARRCW1TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.WTP_MARRCW1TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.622\",\n  \"modified\" : \"2019-12-10T17:02:59.623\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.WTP_MARRCW1TT.F_CV_PREP\",\n  \"description\" : \"RCW1 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.WTP_MARRCW1TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.WTP_MARRCW1TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.WTP_MARRCW1TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.624\",\n  \"modified\" : \"2019-12-10T17:02:59.625\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.WTP_MARRCW2TT.F_CV_PREP\",\n  \"description\" : \"RCW2 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.WTP_MARRCW2TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.WTP_MARRCW2TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.WTP_MARRCW2TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.626\",\n  \"modified\" : \"2019-12-10T17:02:59.627\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.WTP_MARRCW2TT.F_CV\",\n  \"description\" : \"RCW2 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCRH.WTP_MARRCW2TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"RCW2MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.WTP_MARRCW2TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.WTP_MARRCW2TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.628\",\n  \"modified\" : \"2019-12-10T17:02:59.629\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_KIWK091TT.F_CV_PREP\",\n  \"description\" : \"K91 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"4492\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_KIWK091TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_KIWK091TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_KIWK091TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.630\",\n  \"modified\" : \"2019-12-10T17:02:59.631\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_KIWK091TT.F_CV\",\n  \"description\" : \"K91 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR1.K91W0091FI01QFL.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K91MaxFlowSR\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_KIWK091TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_KIWK091TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.633\",\n  \"modified\" : \"2024-03-16T22:49:13.419\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_KIWK092TT.F_CV_PREP\",\n  \"description\" : \"K92 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_KIWK092TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_KIWK092TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_KIWK092TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.635\",\n  \"modified\" : \"2019-12-10T17:02:59.636\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_KIWK092TT.F_CV\",\n  \"description\" : \"K92 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR1.K91W0092FI01QFL.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K92MaxFlowSR\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_KIWK092TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_KIWK092TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.637\",\n  \"modified\" : \"2024-03-16T22:50:02.033\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_KIWK093TT.F_CV_PREP\",\n  \"description\" : \"K93 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_KIWK093TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_KIWK093TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_KIWK093TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.642\",\n  \"modified\" : \"2019-12-10T17:02:59.643\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_KIWK093TT.F_CV\",\n  \"description\" : \"K93 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR1.K93W0093FI01QFL.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K93MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_KIWK093TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_KIWK093TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.645\",\n  \"modified\" : \"2024-03-21T18:58:03.287\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_KIWK094TT.F_CV_PREP\",\n  \"description\" : \"K94 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_KIWK094TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_KIWK094TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_KIWK094TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.647\",\n  \"modified\" : \"2019-12-10T17:02:59.648\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_KIWK094TT.F_CV\",\n  \"description\" : \"K94 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR1.K93W0094FI01QFL.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K94MaxFlowSR\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_KIWK094TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_KIWK094TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.650\",\n  \"modified\" : \"2024-03-21T18:58:47.385\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.WTP_MTRTWL1TT.F_CV_PREP\",\n  \"description\" : \"Grand River Intake Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.WTP_MTRTWL1TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.WTP_MTRTWL1TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.WTP_MTRTWL1TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.652\",\n  \"modified\" : \"2019-12-10T17:02:59.653\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.WTP_MTRTWL1TT.F_CV\",\n  \"description\" : \"Grand River Intake Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCRH.WTP_MTRTWL1TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"GRIntakeMaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.WTP_MTRTWL1TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.WTP_MTRTWL1TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.654\",\n  \"modified\" : \"2019-12-10T17:02:59.656\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_PKPKB00TT.F_CV_PREP\",\n  \"description\" : \"Parkway System Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_PKPKB00TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_PKPKB00TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_PKPKB00TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.657\",\n  \"modified\" : \"2019-12-10T17:02:59.658\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_PKPKB00TT.F_CV\",\n  \"description\" : \"Parkway Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR3.PKPTWL01FI01QFL.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K31K32K33MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_PKPKB00TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_PKPKB00TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.659\",\n  \"modified\" : \"2023-06-10T16:40:22.429\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_SSPKB00TT.F_CV_PREP\",\n  \"description\" : \"Strange Street Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_SSPKB00TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_SSPKB00TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_SSPKB00TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.662\",\n  \"modified\" : \"2019-12-10T17:02:59.663\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_SSPKB00TT.F_CV\",\n  \"description\" : \"Strange Street Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCRH.KWCR_SSPKB00TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"StrangeStMaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_SSPKB00TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_SSPKB00TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.665\",\n  \"modified\" : \"2019-12-10T17:02:59.672\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_NHPNHB0TT.F_CV_PREP\",\n  \"description\" : \"New Hamburg-Baden Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_NHPNHB0TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_NHPNHB0TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_NHPNHB0TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.674\",\n  \"modified\" : \"2019-12-10T17:02:59.675\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_NHPNHB0TT.F_CV\",\n  \"description\" : \"New Hamburg-Baden Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCRH.KWCR_NHPNHB0TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"NH3MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_NHPNHB0TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_NHPNHB0TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.676\",\n  \"modified\" : \"2019-12-10T17:02:59.696\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_KIWK051TT.F_CV_PREP\",\n  \"description\" : \"K50 K51 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_KIWK051TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_KIWK051TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_KIWK051TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.701\",\n  \"modified\" : \"2019-12-10T17:02:59.706\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_KIWK051TT.F_CV\",\n  \"description\" : \"K50 K51 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCRH.KWCR_KIWK051TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K50K51MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_KIWK051TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_KIWK051TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.715\",\n  \"modified\" : \"2019-12-10T17:02:59.727\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_KIWUV80TT.F_CV_PREP\",\n  \"description\" : \"K80 K81 K82 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_KIWUV80TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_KIWUV80TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_KIWUV80TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.732\",\n  \"modified\" : \"2019-12-10T17:02:59.733\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_KIWUV80TT.F_CV\",\n  \"description\" : \"K80 K81 K82 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCRH.KWCR_KIWUV80TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"K80K81K82MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_KIWUV80TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_KIWUV80TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.738\",\n  \"modified\" : \"2019-12-10T17:02:59.739\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_ERROL01TT.F_CV\",\n  \"description\" : \"Erb Street System Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"WATH.MTPSVR3.ERROL01TT.F_CV:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"W6AW6BW7W8MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_ERROL01TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_ERROL01TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.740\",\n  \"modified\" : \"2023-06-10T16:50:28.504\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_WAWW010TT.F_CV_PREP\",\n  \"description\" : \"W10 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_WAWW010TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_WAWW010TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_WAWW010TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.742\",\n  \"modified\" : \"2019-12-10T17:02:59.744\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_WAWW010TT.F_CV\",\n  \"description\" : \"W10 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCRH.KWCR_WAWW010TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"W10MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_WAWW010TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_WAWW010TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.745\",\n  \"modified\" : \"2019-12-10T17:02:59.746\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_WSPWB00TT.F_CV_PREP\",\n  \"description\" : \"William Street Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_WSPWB00TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_WSPWB00TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_WSPWB00TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.747\",\n  \"modified\" : \"2019-12-10T17:02:59.748\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_WSPWB00TT.F_CV\",\n  \"description\" : \"William Street Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCRH.KWCR_WSPWB00TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"W1BW1CW2W3MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_WSPWB00TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_WSPWB00TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.749\",\n  \"modified\" : \"2019-12-10T17:02:59.751\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_ATPTWL1TT.F_CV_PREP\",\n  \"description\" : \"A1 A2 A3 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_ATPTWL1TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_ATPTWL1TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_ATPTWL1TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.752\",\n  \"modified\" : \"2019-12-10T17:02:59.753\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_ATPTWL1TT.F_CV\",\n  \"description\" : \"A1 A2 A3 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCRH.KWCR_ATPTWL1TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"A1A2A3MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_ATPTWL1TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_ATPTWL1TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.754\",\n  \"modified\" : \"2019-12-10T17:02:59.755\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_BMSTWL1TT.F_CV_PREP\",\n  \"description\" : \"BM1 BM2 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_BMSTWL1TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_BMSTWL1TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_BMSTWL1TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.757\",\n  \"modified\" : \"2019-12-10T17:02:59.758\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_BMSTWL1TT.F_CV\",\n  \"description\" : \"BM1 BM1 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCRH.KWCR_BMSTWL1TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"BM1BM2MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_BMSTWL1TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_BMSTWL1TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.759\",\n  \"modified\" : \"2019-12-10T17:02:59.760\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_RTPTWL1TT.F_CV_PREP\",\n  \"description\" : \"R5 R6 Classic Historian Totalizer Prep\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"KWCRH.KWCR_RTPTWL1TT.F_CV:sample:PT2M\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\"\n    } ],\n    \"constantRef\" : [ ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_RTPTWL1TT.F_CV_PREP\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_RTPTWL1TT.F_CV_PREP\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.761\",\n  \"modified\" : \"2019-12-10T17:02:59.762\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Classic Historian Totalizer Prep Rule\",\n  \"description\" : \"\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"constant\" : [ ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"KWCRH.KWCR_KIWK050TT.F_CV:sample:PT2M\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Initialize local variable prevValue with the first value in the input array\\nBigDecimal prevValue = __source__.first;\\n//Iterate through each element of the input array\\nforeach(element:__source__.array){\\n    //If the value of the array element is less than 1\\n    if(element.value<1){\\n        //Set the quality of the element to 0\\n        element.quality=0;\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //If the difference between the current value and the previous value\\n    //is greater than 500\\n    if((element.value - prevValue)>500 || (element.value-prevValue<-500)){\\n        //Apply the flag \\\"QLTY\\\" to the value\\n        element.addFlag(\\\"QLTY\\\");\\n    }\\n    //Set the value of prevValue to the current element value\\n    prevValue = element.value;\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2005-01-01T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"ee59d66b-28cb-46fb-a865-be9c70844769\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]},{"item":"{\n  \"name\" : \"KWCRH.KWCR_RTPTWL1TT.F_CV\",\n  \"description\" : \"R5 R6 Daily Flow Maximum Flagging\",\n  \"engUnits\" : \"M^3\",\n  \"collectionType\" : \"polled:1m\",\n  \"sampleType\" : \"ANALOG\",\n  \"formula\" : null,\n  \"source\" : \"@.KWCRH.KWCR_RTPTWL1TT.F_CV_PREP:periodTotal:P1D\",\n  \"alternateSource\" : null,\n  \"tagPlusSpec\" : [ ],\n  \"ruleSpec\" : [ {\n    \"ruleRef\" : [ {\n      \"calc\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\"\n    } ],\n    \"constantRef\" : [ {\n      \"name\" : \"MV3MaxFlow\",\n      \"constant\" : \"R5R6MaxFlow\"\n    } ],\n    \"inputRef\" : [ ],\n    \"id\" : null\n  } ],\n  \"validationSpec\" : null,\n  \"constraint\" : null,\n  \"descriptor\" : [ ],\n  \"sourceDescription\" : \"\",\n  \"sourceEngUnits\" : \"\",\n  \"param\" : [ ],\n  \"metadata\" : \"\",\n  \"location\" : null,\n  \"sourceLocation\" : null,\n  \"provider\" : null,\n  \"id\" : \"@.KWCRH.KWCR_RTPTWL1TT.F_CV\",\n  \"altId\" : \"\",\n  \"providerId\" : \"@\",\n  \"providerAltId\" : \"\",\n  \"defaultMode\" : null,\n  \"actual\" : \"KWCRH.KWCR_RTPTWL1TT.F_CV\",\n  \"meta\" : null,\n  \"scale\" : 0,\n  \"roundingMode\" : \"HALF_EVEN\",\n  \"accumulating\" : false,\n  \"input\" : false,\n  \"inputType\" : \"xs:decimal\",\n  \"validated\" : false,\n  \"stored\" : false,\n  \"group\" : \"\",\n  \"created\" : \"2019-12-10T17:02:59.763\",\n  \"modified\" : \"2019-12-10T17:02:59.765\",\n  \"cacheable\" : false,\n  \"lastUpdate\" : null,\n  \"active\" : true,\n  \"enabled\" : true,\n  \"favourite\" : null\n}","type":"TagSpec","base64":null,"dependencies":[{"item":"{\n  \"name\" : \"Flow Total Flagging (Maximum only)\",\n  \"description\" : \"Flags only values in exceedence of maximum\",\n  \"schedule\" : \"* * * * *\",\n  \"lastRunMessage\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"constant\" : [ \"MV3MaxFlow\" ],\n  \"outputRef\" : [ ],\n  \"input\" : [ {\n    \"value\" : \"MTPH.MTPSCDA.KIWK021TT.F_CV:periodTotal:P1D\",\n    \"name\" : \"__source__\",\n    \"type\" : \"tag\",\n    \"description\" : null,\n    \"startOffset\" : \"-PT0S\",\n    \"duration\" : \"P1D\",\n    \"useCache\" : false,\n    \"regex\" : false,\n    \"ruleSource\" : false,\n    \"metadata\" : null\n  } ],\n  \"output\" : [ ],\n  \"code\" : [ {\n    \"value\" : \"//Iterate through each element of the input array\\nfor (Data PD: __source__.array){\\n    //If the value of the element is above threshold\\n    BigDecimal mV3MaxFlow = MV3MaxFlow.getValue(PD);\\n    if(PD.value > mV3MaxFlow) {\\n        //Apply \\\"MAX\\\" flag to data element\\n        PD.addFlag(\\\"MAX\\\");\\n    }\\n}\\n\",\n    \"version\" : 1,\n    \"start\" : \"2014-10-10T00:00:00.000\",\n    \"end\" : null,\n    \"inputs\" : \"\",\n    \"outputs\" : \"\",\n    \"language\" : \"mvel\",\n    \"activated\" : false,\n    \"verified\" : true,\n    \"enabled\" : true\n  } ],\n  \"mapping\" : [ ],\n  \"id\" : \"d7ec47ed-6197-47cd-88fd-f2596fe64283\",\n  \"owner\" : \"admin@eramosa.com\",\n  \"jsEngine\" : \"GRAAL\",\n  \"workerTimeLimit\" : \"PT1H\",\n  \"lastRun\" : \"2005-01-01T00:00:00.000\",\n  \"enabled\" : true,\n  \"type\" : \"RULE\"\n}","type":"Calculation","base64":null,"dependencies":[]}]}]